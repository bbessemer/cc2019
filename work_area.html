<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title id="WindowTitle">Window Title</title>
		<!-- Style -->
		<link rel="stylesheet" type="text/css" href="index_style.css">
		<link rel="stylesheet" type="text/css" href="visualization.css">
		<link rel="stylesheet" type="text/css" href="work_area_style.css">
		<!-- Style has to be embedded within file for ace -->
		<style type="text/css" media="screen">
		</style>
				<!-- Our code area scripts -->
		<script src="index_interaction.js"></script>
		<script src="ace-builds/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
		<script src="code_area.js" type="text/javascript" charset="utf-8"></script>
		<script src="viewmodel.js"></script>
		<script src="interpreter.js"></script>
		<script src="parser.js"></script>
	</head>
	<body>

		<div id="EntirePage">
			<div id="TopSection" style="text-align: center;">
				<div id="TaskTitle">
					Task Description
				</div>
				<div id="TaskDescription">
					Yo man here some kinda visualizer or somethin
				</div>
			</div>
			<div id="Visualizer">
				<div id="OperatorsArea">
					<div class="Operator" id="PlusOp">
						<div class="OperatorSymbol">+</div>
					</div>
					<div class="Operator" id="MinusOp">
						<div class="OperatorSymbol">-</div>
					</div>
					<div class="Operator" id="MultOp">
						<div class="OperatorSymbol">*</div>
					</div>
					<div class="Operator" id="DivOp">
						<div class="OperatorSymbol">/</div>
					</div>
				</div>
				<div id="StackFramesZone"></div>
			</div>


		<!-- Our code area element -->
		<div id="CodeArea"></div>
</div>
		<button id="RunButton" type="button" style="position: absolute;bottom: 40px;left: calc(50% - 40px);">Run</button>

		<!-- Our local script -->
		<script>
			//Creates the code editor out of an iframe
			var codeArea = window.CreateCodeArea();
			codeArea.CreateEditor("CodeArea",
`int add (int a, int b)
{
	int x = a + b; /* block comment */
	return x; // your mom gay
}`);

			document.getElementById('RunButton').onclick = function()
			{
				//ClearVisualizer();
				runCode(codeArea.GetText(), "add", [1, 2]);
			}
		</script>
	</body>

	<!--                          Debug tools code                             -->
	<script>
    document.addEventListener("keydown", function (e)
		{
			if (e.which === 123) require("remote").window.OpenDevTools();
			else if (e.which === 116) location.reload();
    });
	</script>

	<script src="visualization.js"></script>

<!-- Test script to make stuff animate in the Visualizer area -->

	<script>

		var A = NewStackFrame("oof");

		NewFrameItem(A).innerHTML = "5";
		NewFrameItem(A).innerHTML = "25";
		NewFrameItem(A).innerHTML = "125";

	var x;
	var test = [
	    //() => runCode(codeArea.GetText(), "add", [1, 2])
	]
	var doer;
	var pos = 0;
	function donext ()
	{
		if (pos >= test.length) clearInterval(doer);
		else test[pos++]();
	};
	doer = setInterval(donext,1000);



	</script>



</html>
